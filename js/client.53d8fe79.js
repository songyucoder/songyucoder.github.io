(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["client"],{"0c81":function(e,t,a){"use strict";a("a33a")},"2fa9":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e._self._c;return t("a-card",{attrs:{bordered:!1}},[t("div",{staticClass:"card-title"},[e._v(e._s(e.$route.meta.title))]),t("a-spin",{attrs:{spinning:e.isLoading}},[t("a-form",{attrs:{form:e.form},on:{submit:e.handleSubmit}},[t("a-form-item",{staticClass:"mt-30",attrs:{label:"是否开启访问",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["enabled",{rules:[{required:!0}]}],expression:"['enabled', { rules: [{ required: true }] }]"}]},[t("a-radio",{attrs:{value:1}},[e._v("开启")]),t("a-radio",{attrs:{value:0}},[e._v("关闭")])],1),t("div",{staticClass:"form-item-help"},[t("p",{staticClass:"extra"},[t("span",[e._v("注：如关闭，用户则无法通过H5端访问商城")])])])],1),t("a-form-item",{attrs:{label:"H5站点地址",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["baseUrl",{rules:[{required:!0,message:"请输入H5站点地址"}]}],expression:"['baseUrl', { rules: [{ required: true, message: '请输入H5站点地址' }] }]"}]}),t("div",{staticClass:"form-item-help"},[t("p",{staticClass:"extra"},[t("span",[e._v("请填写H5端实际的访问地址，以")]),t("a-tag",{staticClass:"mlr-5"},[e._v("https://")]),e._v("开头； 斜杠 "),t("a-tag",{staticClass:"mlr-5"},[e._v("/")]),t("span",[e._v("结尾")])],1),t("p",{staticClass:"extra"},[t("span",[e._v("例如：https://www.aaa.com/")])])])],1),t("a-form-item",{attrs:{wrapperCol:{span:e.wrapperCol.span,offset:e.labelCol.span}}},[t("a-button",{attrs:{type:"primary","html-type":"submit"}},[e._v("提交")])],1)],1)],1)],1)},i=[],s=(a("d3b7"),a("88bc")),l=a.n(s),o=a("ca00"),n=a("5530"),c=a("b775"),u={detail:"/client.h5.setting/detail",update:"/client.h5.setting/update"};function d(e){return Object(c["b"])({url:u.detail,method:"get",params:{key:e}})}function p(e,t){return Object(c["b"])({url:u.update,method:"post",data:Object(n["a"])({key:e},t)})}var m={data:function(){return{labelCol:{span:4},wrapperCol:{span:10},isLoading:!1,form:this.$form.createForm(this),key:"basic",record:{}}},created:function(){this.getDetail()},methods:{getDetail:function(){var e=this;this.isLoading=!0,d(this.key).then((function(t){e.record=t.data.detail,e.setFieldsValue()})).finally((function(t){e.isLoading=!1}))},setFieldsValue:function(){var e=this.record,t=this.$nextTick,a=this.form;!Object(o["f"])(a.getFieldsValue())&&t((function(){a.setFieldsValue(l()(e,["enabled","baseUrl"]))}))},handleSubmit:function(e){var t=this;e.preventDefault();var a=this.form.validateFields;a((function(e,a){!e&&t.onFormSubmit(a)}))},onFormSubmit:function(e){var t=this;this.isLoading=!0,p(this.key,{form:e}).then((function(e){t.$message.success(e.message,1.5)})).finally((function(e){t.isLoading=!1}))}}},f=m,v=(a("d6ed"),a("2877")),b=Object(v["a"])(f,r,i,!1,null,"b3823dba",null);t["default"]=b.exports},3267:function(e,t,a){"use strict";var r=a("5c06");t["a"]=new r["a"]([{key:"CAPTCHA",name:"短信验证码",value:"captcha"},{key:"ORDER_PAY",name:"新付款订单",value:"order_pay"}])},4412:function(e,t,a){"use strict";a("fab6")},"598f":function(e,t,a){},"83f4":function(e,t,a){},"88bc":function(e,t,a){(function(t){var a=1/0,r=9007199254740991,i="[object Arguments]",s="[object Function]",l="[object GeneratorFunction]",o="[object Symbol]",n="object"==typeof t&&t&&t.Object===Object&&t,c="object"==typeof self&&self&&self.Object===Object&&self,u=n||c||Function("return this")();function d(e,t,a){switch(a.length){case 0:return e.call(t);case 1:return e.call(t,a[0]);case 2:return e.call(t,a[0],a[1]);case 3:return e.call(t,a[0],a[1],a[2])}return e.apply(t,a)}function p(e,t){var a=-1,r=e?e.length:0,i=Array(r);while(++a<r)i[a]=t(e[a],a,e);return i}function m(e,t){var a=-1,r=t.length,i=e.length;while(++a<r)e[i+a]=t[a];return e}var f=Object.prototype,v=f.hasOwnProperty,b=f.toString,h=u.Symbol,C=f.propertyIsEnumerable,g=h?h.isConcatSpreadable:void 0,w=Math.max;function _(e,t,a,r,i){var s=-1,l=e.length;a||(a=q),i||(i=[]);while(++s<l){var o=e[s];t>0&&a(o)?t>1?_(o,t-1,a,r,i):m(i,o):r||(i[i.length]=o)}return i}function x(e,t){return e=Object(e),y(e,t,(function(t,a){return a in e}))}function y(e,t,a){var r=-1,i=t.length,s={};while(++r<i){var l=t[r],o=e[l];a(o,l)&&(s[l]=o)}return s}function F(e,t){return t=w(void 0===t?e.length-1:t,0),function(){var a=arguments,r=-1,i=w(a.length-t,0),s=Array(i);while(++r<i)s[r]=a[t+r];r=-1;var l=Array(t+1);while(++r<t)l[r]=a[r];return l[t]=s,d(e,this,l)}}function q(e){return j(e)||O(e)||!!(g&&e&&e[g])}function S(e){if("string"==typeof e||N(e))return e;var t=e+"";return"0"==t&&1/e==-a?"-0":t}function O(e){return V(e)&&v.call(e,"callee")&&(!C.call(e,"callee")||b.call(e)==i)}var j=Array.isArray;function k(e){return null!=e&&L(e.length)&&!I(e)}function V(e){return A(e)&&k(e)}function I(e){var t=D(e)?b.call(e):"";return t==s||t==l}function L(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}function D(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function A(e){return!!e&&"object"==typeof e}function N(e){return"symbol"==typeof e||A(e)&&b.call(e)==o}var $=F((function(e,t){return null==e?{}:x(e,p(_(t,1),S))}));e.exports=$}).call(this,a("c8ba"))},"8bb2":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e._self._c;return t("a-card",{attrs:{bordered:!1}},[t("div",{staticClass:"card-title"},[e._v(e._s(e.$route.meta.title))]),t("a-spin",{attrs:{spinning:e.isLoading}},[t("a-alert",{staticClass:"mb-15",attrs:{showIcon:!0,message:"微信H5端链接分享说明",banner:""}},[t("template",{slot:"description"},[t("p",[e._v("1. 开启链接分享卡片之前请先配置完成公众号设置（开发者信息和IP白名单等），否则无法生效")]),t("p",[e._v("2. 只有通过微信扫码、微信公众号底部菜单和对话框打开H5链接，点击右上角的 “转发给朋友” 才会是卡片形式")])])],2),t("a-form",{attrs:{form:e.form},on:{submit:e.handleSubmit}},[t("a-form-item",{staticClass:"mt-30",attrs:{label:"链接分享卡片",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["enabled",{rules:[{required:!0}]}],expression:"['enabled', { rules: [{ required: true }] }]"}]},[t("a-radio",{attrs:{value:!0}},[e._v("开启")]),t("a-radio",{attrs:{value:!1}},[e._v("关闭")])],1),t("div",{staticClass:"form-item-help"},[t("p",{staticClass:"extra"},[t("small",[e._v("在微信H5端分享商品链接时，通过卡片形式展示封面图、标题和描述；")]),t("a-popover",{attrs:{title:!1}},[t("template",{slot:"content"},[t("img",{staticClass:"bg-image",staticStyle:{width:"360px"},attrs:{src:"static/img/client/wxofficial/linkShareCard.png"}})]),t("a",{attrs:{href:"javascript:;"}},[e._v("查看示例")])],2),t("img",{staticClass:"hiden",attrs:{src:"static/img/client/wxofficial/linkShareCard.png"}})],1)])],1),t("a-form-item",{staticClass:"mt-30",attrs:{label:"分享标题",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["title",{rules:[{required:!0,message:"请输入分享标题"}]}],expression:"['title', { rules: [{ required: true, message: '请输入分享标题' }] }]"}]}),t("p",{staticClass:"form-item-help"},[t("small",[e._v("分享链接给微信好友时，链接卡片的标题内容")])])],1),t("a-form-item",{attrs:{label:"分享描述",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["desc",{rules:[{required:!0,message:"请输入分享描述"}]}],expression:"['desc', { rules: [{ required: true, message: '请输入分享描述' }] }]"}]}),t("p",{staticClass:"form-item-help"},[t("small",[e._v("分享链接给微信好友时，链接卡片的描述内容")])])],1),t("a-form-model-item",{attrs:{label:"分享图标",labelCol:e.labelCol,wrapperCol:e.wrapperCol,required:""}},[t("SelectImage2",{directives:[{name:"decorator",rawName:"v-decorator",value:["imgUrl",{initialValue:"",rules:[{required:!0,message:"请上传分享图标"}]}],expression:"['imgUrl', { initialValue: '', rules: [{ required: true, message: '请上传分享图标' }] }]"}],attrs:{tips:"建议尺寸：宽300 高度300"}})],1),t("a-form-item",{attrs:{wrapperCol:{span:e.wrapperCol.span,offset:e.labelCol.span}}},[t("a-button",{attrs:{type:"primary","html-type":"submit"}},[e._v("提交")])],1)],1)],1)],1)},i=[],s=(a("d3b7"),a("88bc")),l=a.n(s),o=a("ca00"),n=a("fdd5"),c=a("2af9"),u={components:{SelectImage2:c["i"]},data:function(){return{labelCol:{span:4},wrapperCol:{span:14},isLoading:!1,form:this.$form.createForm(this),record:{}}},created:function(){this.getDetail()},methods:{getDetail:function(){var e=this;this.isLoading=!0,n["b"]("share").then((function(t){e.record=t.data.detail,e.setFieldsValue()})).finally((function(t){return e.isLoading=!1}))},setFieldsValue:function(){var e=this.record,t=this.$nextTick,a=this.form;!Object(o["f"])(a.getFieldsValue())&&t((function(){a.setFieldsValue(l()(e,["enabled","title","desc","imgUrl"]))}))},handleSubmit:function(e){var t=this;e.preventDefault();var a=this.form.validateFields;a((function(e,a){!e&&t.onFormSubmit(a)}))},onFormSubmit:function(e){var t=this;this.isLoading=!0,n["c"]("share",{form:e}).then((function(e){t.$message.success(e.message,1.5)})).finally((function(e){return t.isLoading=!1}))}}},d=u,p=(a("a094"),a("2877")),m=Object(p["a"])(d,r,i,!1,null,"6a4fc9a4",null);t["default"]=m.exports},"8c72":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e._self._c;return t("a-card",{attrs:{bordered:!1}},[t("div",{staticClass:"card-title"},[e._v(e._s(e.$route.meta.title))]),t("a-spin",{attrs:{spinning:e.isLoading}},[t("a-form",{attrs:{form:e.form},on:{submit:e.handleSubmit}},[t("a-form-item",{attrs:{label:"默认登录/注册方式",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["registerMethod",{rules:[{required:!0}]}],expression:"['registerMethod', { rules: [{ required: true }] }]"}]},[t("a-radio",{attrs:{value:10}},[e._v("手机号 + 短信验证码")])],1),t("div",{staticClass:"form-item-help"},[t("p",{staticClass:"extra"},[t("small",[e._v("发送短信服务需要先配置")]),t("router-link",{attrs:{target:"_blank",to:{path:"/setting/sms"}}},[e._v("短信通知设置")])],1),t("p",{staticClass:"extra"},[e._v("使用手机号注册可以实现多种客户端的账号统一，例如H5、微信小程序、APP，是目前最主流的方案")])])],1),t("a-form-item",{directives:[{name:"show",rawName:"v-show",value:1==e.form.getFieldValue("isOauthMpweixin")&&0==e.form.getFieldValue("isForceBindMpweixin"),expression:"form.getFieldValue('isOauthMpweixin') == 1 && form.getFieldValue('isForceBindMpweixin') == 0"}],attrs:{label:"手动绑定手机号",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["isManualBind",{rules:[{required:!0}]}],expression:"['isManualBind', { rules: [{ required: true }] }]"}]},[t("a-radio",{attrs:{value:1}},[e._v("显示")]),t("a-radio",{attrs:{value:0}},[e._v("不显示")])],1),t("div",{staticClass:"form-item-help"},[t("small",[e._v("用户在个人中心页可以手动操作绑定手机号（仅未绑定手机号时显示）")])])],1),t("a-divider",{attrs:{orientation:"left"}},[e._v("微信小程序授权登录")]),t("a-form-item",{attrs:{label:"一键授权登录/注册",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["isOauthMpweixin",{rules:[{required:!0}]}],expression:"['isOauthMpweixin', { rules: [{ required: true }] }]"}]},[t("a-radio",{attrs:{value:1}},[t("span",[e._v("开启")]),t("a-tag",{staticClass:"ml-5",attrs:{color:"green"}},[e._v("推荐")])],1),t("a-radio",{attrs:{value:0}},[e._v("关闭")])],1),t("div",{staticClass:"form-item-help"},[t("p",{staticClass:"extra"},[e._v("开启后在微信小程序端一键获取用户授权并登录和注册")]),t("p",{directives:[{name:"show",rawName:"v-show",value:0==e.form.getFieldValue("isOauthMpweixin"),expression:"form.getFieldValue('isOauthMpweixin') == 0"}],staticClass:"extra c-red"},[e._v("关闭后微信小程序端将无法获取用户的openid，同时无法使用微信支付")])])],1),t("a-form-item",{directives:[{name:"show",rawName:"v-show",value:1==e.form.getFieldValue("isOauthMpweixin"),expression:"form.getFieldValue('isOauthMpweixin') == 1"}],attrs:{label:"注册时绑定手机号",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["isForceBindMpweixin",{rules:[{required:!0}]}],expression:"['isForceBindMpweixin', { rules: [{ required: true }] }]"}]},[t("a-radio",{attrs:{value:1}},[t("span",[e._v("强制绑定")]),t("a-tag",{staticClass:"ml-5",attrs:{color:"green"}},[e._v("推荐")])],1),t("a-radio",{attrs:{value:0}},[e._v("不绑定")])],1),t("div",{staticClass:"form-item-help"},[t("p",{staticClass:"extra"},[e._v("开启后在微信小程序端一键授权注册时强制绑定手机号，仅首次注册时弹出")]),t("p",{directives:[{name:"show",rawName:"v-show",value:0==e.form.getFieldValue("isForceBindMpweixin"),expression:"form.getFieldValue('isForceBindMpweixin') == 0"}],staticClass:"extra c-red"},[e._v("如果不强制绑定手机号，会造成多端情况下同一个用户注册多个账户，强烈推荐绑定手机号")])])],1),t("a-divider",{attrs:{orientation:"left"}},[e._v("微信公众号授权登录")]),t("a-form-item",{attrs:{label:"一键授权登录/注册",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["isOauthWxofficial",{rules:[{required:!0}]}],expression:"['isOauthWxofficial', { rules: [{ required: true }] }]"}]},[t("a-radio",{attrs:{value:1}},[t("span",[e._v("开启")]),t("a-tag",{staticClass:"ml-5",attrs:{color:"green"}},[e._v("推荐")])],1),t("a-radio",{attrs:{value:0}},[e._v("关闭")])],1),t("div",{staticClass:"form-item-help"},[t("p",{staticClass:"extra"},[e._v("开启后在微信公众号端一键获取用户授权并登录和注册")]),t("p",{directives:[{name:"show",rawName:"v-show",value:0==e.form.getFieldValue("isOauthWxofficial"),expression:"form.getFieldValue('isOauthWxofficial') == 0"}],staticClass:"extra c-red"},[e._v("关闭后微信公众号端将无法获取用户的openid，同时无法使用微信支付")])])],1),t("a-form-item",{directives:[{name:"show",rawName:"v-show",value:1==e.form.getFieldValue("isOauthWxofficial"),expression:"form.getFieldValue('isOauthWxofficial') == 1"}],attrs:{label:"注册时绑定手机号",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["isForceBindWxofficial",{rules:[{required:!0}]}],expression:"['isForceBindWxofficial', { rules: [{ required: true }] }]"}]},[t("a-radio",{attrs:{value:1}},[t("span",[e._v("强制绑定")]),t("a-tag",{staticClass:"ml-5",attrs:{color:"green"}},[e._v("推荐")])],1),t("a-radio",{attrs:{value:0}},[e._v("不绑定")])],1),t("div",{staticClass:"form-item-help"},[t("p",{staticClass:"extra"},[e._v("开启后在微信公众号一键授权注册时强制绑定手机号，仅首次注册时弹出")]),t("p",{directives:[{name:"show",rawName:"v-show",value:0==e.form.getFieldValue("isForceBindWxofficial"),expression:"form.getFieldValue('isForceBindWxofficial') == 0"}],staticClass:"extra c-red"},[e._v("如果不强制绑定手机号，会造成多端情况下同一个用户注册多个账户，强烈推荐绑定手机号")])])],1),t("a-form-item",{attrs:{wrapperCol:{span:e.wrapperCol.span,offset:e.labelCol.span}}},[t("a-button",{attrs:{type:"primary","html-type":"submit"}},[e._v("提交")])],1)],1)],1)],1)},i=[],s=(a("d3b7"),a("ddb0"),a("88bc")),l=a.n(s),o=a("ca00"),n=a("f585"),c=a("3267"),u={data:function(){return{SettingSmsSceneEnum:c["a"],key:"register",labelCol:{span:4},wrapperCol:{span:10},isLoading:!1,form:this.$form.createForm(this),record:{}}},created:function(){this.getDetail()},methods:{getDetail:function(){var e=this;this.isLoading=!0,n["a"](this.key).then((function(t){e.record=t.data.values,e.setFieldsValue()})).finally((function(t){e.isLoading=!1}))},setFieldsValue:function(){var e=this.record,t=this.$nextTick,a=this.form;!Object(o["f"])(a.getFieldsValue())&&t((function(){a.setFieldsValue(l()(e,["registerMethod","isManualBind","isOauthMpweixin","isForceBindMpweixin","isOauthWxofficial","isForceBindWxofficial"]))}))},handleSubmit:function(e){var t=this;e.preventDefault();var a=this.form.validateFields;a((function(e,a){!e&&t.onFormSubmit(a)}))},onFormSubmit:function(e){var t=this;this.isLoading=!0,n["b"](this.key,{form:e}).then((function(e){t.$message.success(e.message,1.5)})).finally((function(e){t.isLoading=!1}))}}},d=u,p=(a("0c81"),a("2877")),m=Object(p["a"])(d,r,i,!1,null,"6ad715fc",null);t["default"]=m.exports},a094:function(e,t,a){"use strict";a("598f")},a33a:function(e,t,a){},aaa0:function(e,t,a){"use strict";a("83f4")},b823:function(e,t,a){},d6ed:function(e,t,a){"use strict";a("b823")},e36a:function(e,t,a){"use strict";a.r(t);a("b0c0"),a("99af");var r=function(){var e=this,t=e._self._c;return t("a-card",{attrs:{bordered:!1}},[t("div",{staticClass:"card-title"},[e._v(e._s(e.$route.meta.title))]),t("a-spin",{attrs:{spinning:e.isLoading}},[t("a-form",{attrs:{form:e.form},on:{submit:e.handleSubmit}},[t("a-form-item",{staticClass:"mt-30",attrs:{label:"小程序 AppID",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["app_id",{rules:[{required:!0,message:"请输入小程序AppID"}]}],expression:"['app_id', { rules: [{ required: true, message: '请输入小程序AppID' }] }]"}]}),t("p",{staticClass:"form-item-help"},[t("small",[e._v("登录微信小程序平台，开发 - 开发管理 - 开发设置，记录AppID (小程序ID)")])])],1),t("a-form-item",{attrs:{label:"小程序 AppSecret",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["app_secret",{rules:[{required:!0,message:"请输入小程序AppSecret"}]}],expression:"['app_secret', { rules: [{ required: true, message: '请输入小程序AppSecret' }] }]"}],attrs:{type:"password"}}),t("p",{staticClass:"form-item-help"},[t("small",[e._v("登录微信小程序平台，开发 - 开发管理 - 开发设置，记录AppSecret (小程序密钥)")])])],1),t("a-divider",{attrs:{orientation:"left"}},[e._v("授权域名设置")]),e._l(e.domainList,(function(a,r){return t("a-form-item",{key:r,staticClass:"mt-30",attrs:{label:"".concat(a.name,"合法域名"),labelCol:e.labelCol,wrapperCol:e.wrapperCol,required:""}},[t("span",{staticClass:"f-14"},[e._v(e._s("".concat(a.protocol,"://").concat(e.domain)))]),t("a",{staticClass:"ml-15 f-12",attrs:{href:"javascript:void(0);"},on:{click:function(t){return e.handleCopyLink("".concat(a.protocol,"://").concat(e.domain))}}},[e._v("点击复制")]),t("p",{staticClass:"form-item-help"},[t("small",[e._v("登录小程序平台，开发 - 开发管理 - 开发设置 - 服务器域名，修改"+e._s(a.protocol)+"协议业务域名")])])])})),t("a-form-item",{attrs:{wrapperCol:{span:e.wrapperCol.span,offset:e.labelCol.span}}},[t("a-button",{attrs:{type:"primary","html-type":"submit"}},[e._v("提交")])],1)],2)],1)],1)},i=[],s=(a("d3b7"),a("88bc")),l=a.n(s),o=a("ca00"),n=a("5530"),c=a("b775"),u={detail:"/client.wxapp.setting/detail",update:"/client.wxapp.setting/update"};function d(e){return Object(c["b"])({url:u.detail,method:"get",params:{key:e}})}function p(e,t){return Object(c["b"])({url:u.update,method:"post",data:Object(n["a"])({key:e},t)})}var m=[{name:"request",protocol:"https"},{name:"socket",protocol:"wss"},{name:"uploadFile",protocol:"https"},{name:"downloadFile",protocol:"https"}],f={data:function(){return{labelCol:{span:4},wrapperCol:{span:10},isLoading:!1,form:this.$form.createForm(this),key:"basic",domainList:m,record:{},domain:""}},created:function(){this.getDetail()},methods:{getDetail:function(){var e=this;this.isLoading=!0,d(this.key).then((function(t){e.record=t.data.detail,e.domain=t.data.domain,e.setFieldsValue()})).finally((function(t){e.isLoading=!1}))},setFieldsValue:function(){var e=this.record,t=this.$nextTick,a=this.form;!Object(o["f"])(a.getFieldsValue())&&t((function(){a.setFieldsValue(l()(e,["app_id","app_secret"]))}))},handleCopyLink:function(e){var t=this;this.$copyText(e).then((function(e){t.$message.success("复制成功",.8)}))},handleSubmit:function(e){var t=this;e.preventDefault();var a=this.form.validateFields;a((function(e,a){!e&&t.onFormSubmit(a)}))},onFormSubmit:function(e){var t=this;this.isLoading=!0,p(this.key,{form:e}).then((function(e){t.$message.success(e.message,1.5)})).finally((function(e){t.isLoading=!1}))}}},v=f,b=(a("4412"),a("2877")),h=Object(b["a"])(v,r,i,!1,null,"7cb2bdc2",null);t["default"]=h.exports},f09e:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e._self._c;return t("a-card",{attrs:{bordered:!1}},[t("div",{staticClass:"card-title"},[e._v(e._s(e.$route.meta.title))]),t("a-spin",{attrs:{spinning:e.isLoading}},[t("a-form",{attrs:{form:e.form},on:{submit:e.handleSubmit}},[t("a-form-item",{staticClass:"mt-30",attrs:{label:"公众号名称",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{rules:[{required:!0,message:"请输入公众号名称"}]}],expression:"['name', { rules: [{ required: true, message: '请输入公众号名称' }] }]"}]})],1),t("a-form-item",{attrs:{label:"原始ID",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["originalId",{rules:[{required:!0,message:"请输入公众号原始ID"}]}],expression:"['originalId', { rules: [{ required: true, message: '请输入公众号原始ID' }] }]"}]}),t("p",{staticClass:"form-item-help"},[t("small",[e._v("登录微信公众平台，设置与开发 - 公众号设置 - 注册信息，查看原始ID")])])],1),t("a-form-item",{attrs:{label:"二维码图片",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t("SelectImage2",{directives:[{name:"decorator",rawName:"v-decorator",value:["qrcodeImageUrl",{initialValue:"",rules:[{required:!0,message:"请上传分享图标"}]}],expression:"['qrcodeImageUrl', { initialValue: '', rules: [{ required: true, message: '请上传分享图标' }] }]"}],attrs:{tips:"建议尺寸：宽430 高度430"}}),t("p",{staticClass:"form-item-help"},[t("small",[e._v("登录微信公众平台，设置与开发 - 公众号设置 - 公开信息，下载公众号二维码（15cm）")])])],1),t("a-divider",{attrs:{orientation:"left"}},[e._v("开发者信息")]),t("a-form-item",{staticClass:"mt-30",attrs:{label:"开发者 AppID",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["appId",{rules:[{required:!0,message:"请输入开发者AppID"}]}],expression:"['appId', { rules: [{ required: true, message: '请输入开发者AppID' }] }]"}]}),t("p",{staticClass:"form-item-help"},[t("small",[e._v("登录微信公众平台，设置与开发 - 基本配置 - 公众号开发信息，记录开发者ID(AppID)")])])],1),t("a-form-item",{attrs:{label:"开发者 AppSecret",labelCol:e.labelCol,wrapperCol:e.wrapperCol}},[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["appSecret",{rules:[{required:!0,message:"请输入开发者AppSecret"}]}],expression:"['appSecret', { rules: [{ required: true, message: '请输入开发者AppSecret' }] }]"}],attrs:{type:"password"}}),t("p",{staticClass:"form-item-help"},[t("small",[e._v("登录微信公众平台，设置与开发 - 基本配置 - 公众号开发信息，设置开发者密码(AppSecret)")])])],1),t("a-divider",{attrs:{orientation:"left"}},[e._v("授权域名设置")]),t("a-form-item",{staticClass:"mt-30",attrs:{label:"服务器IP白名单",labelCol:e.labelCol,wrapperCol:e.wrapperCol,required:""}},[t("span",{staticClass:"f-14"},[e._v(e._s(e.serverIP))]),t("a",{staticClass:"ml-15 f-12",attrs:{href:"javascript:void(0);"},on:{click:function(t){return e.handleCopyText(e.serverIP)}}},[e._v("点击复制")]),t("p",{staticClass:"form-item-help"},[t("small",[e._v("登录微信公众平台，设置与开发 - 基本配置 - IP白名单，填写服务器IP")])])]),t("a-form-item",{attrs:{label:"业务域名",labelCol:e.labelCol,wrapperCol:e.wrapperCol,required:""}},[t("span",{staticClass:"f-14"},[e._v(e._s(e.domain))]),t("a",{staticClass:"ml-15 f-12",attrs:{href:"javascript:void(0);"},on:{click:function(t){return e.handleCopyText(e.domain)}}},[e._v("点击复制")]),t("p",{staticClass:"form-item-help"},[t("small",[e._v("登录微信公众平台，设置与开发 - 公众号设置 - 功能设置，填写业务域名")])])]),t("a-form-item",{attrs:{label:"JS接口安全域名",labelCol:e.labelCol,wrapperCol:e.wrapperCol,required:""}},[t("span",{staticClass:"f-14"},[e._v(e._s(e.domain))]),t("a",{staticClass:"ml-15 f-12",attrs:{href:"javascript:void(0);"},on:{click:function(t){return e.handleCopyText(e.domain)}}},[e._v("点击复制")]),t("p",{staticClass:"form-item-help"},[t("small",[e._v("登录微信公众平台，设置与开发 - 公众号设置 - 功能设置，填写JS接口安全域名")])])]),t("a-form-item",{attrs:{label:"网页授权域名",labelCol:e.labelCol,wrapperCol:e.wrapperCol,required:""}},[t("span",{staticClass:"f-14"},[e._v(e._s(e.domain))]),t("a",{staticClass:"ml-15 f-12",attrs:{href:"javascript:void(0);"},on:{click:function(t){return e.handleCopyText(e.domain)}}},[e._v("点击复制")]),t("p",{staticClass:"form-item-help"},[t("small",[e._v("登录微信公众平台，设置与开发 - 公众号设置 - 功能设置，填写网页授权域名")])])]),t("a-form-item",{attrs:{wrapperCol:{span:e.wrapperCol.span,offset:e.labelCol.span}}},[t("a-button",{attrs:{type:"primary","html-type":"submit"}},[e._v("提交")])],1)],1)],1)],1)},i=[],s=(a("d3b7"),a("88bc")),l=a.n(s),o=a("ca00"),n=a("fdd5"),c=a("2af9"),u={components:{SelectImage2:c["i"]},data:function(){return{labelCol:{span:4},wrapperCol:{span:12},isLoading:!1,form:this.$form.createForm(this),record:{},domain:"",serverUrl:"",serverIP:"",radioStyle:{display:"block",marginBottom:"16px"}}},created:function(){this.getDetail()},methods:{getDetail:function(){var e=this;this.isLoading=!0,n["a"]().then((function(t){e.record=t.data.setting,e.domain=t.data.domain,e.serverUrl=t.data.serverUrl,e.serverIP=t.data.serverIP,e.setFieldsValue()})).finally((function(t){return e.isLoading=!1}))},setFieldsValue:function(){var e=this.record,t=this.$nextTick,a=this.form;!Object(o["f"])(a.getFieldsValue())&&t((function(){a.setFieldsValue(l()(e,["name","originalId","qrcodeImageUrl","appId","appSecret"]))}))},handleCopyText:function(e){var t=this;this.$copyText(e).then((function(e){t.$message.success("复制成功",.8)}))},handleSubmit:function(e){var t=this;e.preventDefault();var a=this.form.validateFields;a((function(e,a){!e&&t.onFormSubmit(a)}))},onFormSubmit:function(e){var t=this;this.isLoading=!0,n["c"]("basic",{form:e}).then((function(e){t.$message.success(e.message,1.5)})).finally((function(e){return t.isLoading=!1}))}}},d=u,p=(a("aaa0"),a("2877")),m=Object(p["a"])(d,r,i,!1,null,"3fe5a688",null);t["default"]=m.exports},f585:function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return o}));var r=a("5530"),i=a("b775"),s={detail:"/setting/detail",update:"/setting/update"};function l(e){return Object(i["b"])({url:s.detail,method:"get",params:{key:e}})}function o(e,t){return Object(i["b"])({url:s.update,method:"post",data:Object(r["a"])({key:e},t)})}},fab6:function(e,t,a){},fdd5:function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return o})),a.d(t,"c",(function(){return n}));var r=a("5530"),i=a("b775"),s={basic:"/client.wxofficial.setting/basic",detail:"/client.wxofficial.setting/detail",update:"/client.wxofficial.setting/update"};function l(e){return Object(i["b"])({url:s.basic,method:"get"})}function o(e){return Object(i["b"])({url:s.detail,method:"get",params:{key:e}})}function n(e,t){return Object(i["b"])({url:s.update,method:"post",data:Object(r["a"])({key:e},t)})}}}]);